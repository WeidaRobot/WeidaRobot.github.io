webpackJsonp([13],{E6nJ:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("//Fk"),o=e.n(a),r=e("6Y32"),n=e("E4LH"),m={data:function(){return{wmsForm:{stock:"",task:"",door:""},wmsFormRules:{stock:[{pattern:n.a.valUrl,message:"URL格式错误"}],task:[{pattern:n.a.valUrl,message:"URL格式错误"}],door:[{pattern:n.a.valUrl,message:"URL格式错误"}]}}},mounted:function(){this.ondefault()},methods:{ondefault:function(){var t=this;Object(r.g)("urls").then(function(s){t.wmsForm.stock=s.data.data.stock,t.wmsForm.task=s.data.data.task,t.wmsForm.door=s.data.data.door},function(t){})},onrefresh:function(){var t=this;Object(r.g)("urls").then(function(s){s.data.result?(t.wmsForm.stock=s.data.data.stock,t.wmsForm.task=s.data.data.task,t.wmsForm.door=s.data.data.door,t.$message.success("刷新成功")):t.$message.warning(s.data.comment)}).catch(function(s){t.$message.error("刷新失败")})},onconfirm:function(){var t=this;if(this.validateForm()){var s=this;new o.a(function(t,e){Object(r.g)("urls").then(function(e){var a=e.data.data?e.data.data:{};a.stock=s.wmsForm.stock,a.task=s.wmsForm.task,a.door=s.wmsForm.door,t(a)},function(t){e()})}).then(function(s){Object(r.m)("urls",s).then(function(s){s.data.result?t.$message.success("修改成功"):t.$message.warning(s.data.comment)},function(s){t.$message.error("修改失败")})},function(s){t.$message.error("数据加载失败,无法修改")})}else this.$message.error("非法URL,请更正")},validateForm:function(){return!(this.wmsForm.stock&&!n.a.valUrl.test(this.wmsForm.stock))&&(!(this.wmsForm.task&&!n.a.valUrl.test(this.wmsForm.task))&&!(this.wmsForm.door&&!n.a.valUrl.test(this.wmsForm.door)))}}},l={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"crumbs"},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",[t._v("系统联动")])],1)],1),t._v(" "),e("div",{staticClass:"container"},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:10}},[e("el-form",{ref:"wmsForm",attrs:{model:t.wmsForm,rules:t.wmsFormRules,"label-width":"150px "}},[e("el-form-item",{attrs:{prop:"stock",label:"库位同步服务"}},[e("el-input",{attrs:{name:"stock",type:"text",autocomplete:"on",placeholder:""},model:{value:t.wmsForm.stock,callback:function(s){t.$set(t.wmsForm,"stock",s)},expression:"wmsForm.stock"}})],1),t._v(" "),e("el-form-item",{attrs:{prop:"task",label:"任务状态通知"}},[e("el-input",{attrs:{name:"task",type:"text",autocomplete:"on",placeholder:""},model:{value:t.wmsForm.task,callback:function(s){t.$set(t.wmsForm,"task",s)},expression:"wmsForm.task"}})],1),t._v(" "),e("el-form-item",{attrs:{prop:"door",label:"门对接服务"}},[e("el-input",{attrs:{name:"door",type:"text",autocomplete:"on",placeholder:""},model:{value:t.wmsForm.door,callback:function(s){t.$set(t.wmsForm,"door",s)},expression:"wmsForm.door"}})],1),t._v(" "),e("br"),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"success",plain:"",size:"small",icon:"el-icon-refresh"},on:{click:t.onrefresh}},[t._v("刷新")]),t._v(" "),e("el-button",{attrs:{type:"primary",plain:"",size:"small",icon:"el-icon-check"},on:{click:t.onconfirm}},[t._v("确定")])],1)],1)],1)],1)],1)])},staticRenderFns:[]},c=e("VU/8")(m,l,!1,null,null,null);s.default=c.exports}});